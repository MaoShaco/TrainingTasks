--
-- PostgreSQL database dump
--

-- Dumped from database version 9.4.5
-- Dumped by pg_dump version 9.4.5
-- Started on 2015-11-15 15:28:02

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 190 (class 3079 OID 11855)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2086 (class 0 OID 0)
-- Dependencies: 190
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 180 (class 1259 OID 16451)
-- Name: room_beds; Type: TABLE; Schema: public; Owner: user; Tablespace: 
--

CREATE TABLE room_beds (
    id integer NOT NULL,
    type character varying(10) NOT NULL
);


ALTER TABLE room_beds OWNER TO "user";

--
-- TOC entry 181 (class 1259 OID 16454)
-- Name: beds_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

CREATE SEQUENCE beds_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE beds_id_seq OWNER TO "user";

--
-- TOC entry 2087 (class 0 OID 0)
-- Dependencies: 181
-- Name: beds_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: user
--

ALTER SEQUENCE beds_id_seq OWNED BY room_beds.id;


--
-- TOC entry 182 (class 1259 OID 16467)
-- Name: room_class; Type: TABLE; Schema: public; Owner: user; Tablespace: 
--

CREATE TABLE room_class (
    id integer NOT NULL,
    class_name character varying(10)
);


ALTER TABLE room_class OWNER TO "user";

--
-- TOC entry 183 (class 1259 OID 16470)
-- Name: class_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

CREATE SEQUENCE class_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE class_id_seq OWNER TO "user";

--
-- TOC entry 2088 (class 0 OID 0)
-- Dependencies: 183
-- Name: class_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: user
--

ALTER SEQUENCE class_id_seq OWNED BY room_class.id;


--
-- TOC entry 172 (class 1259 OID 16395)
-- Name: client; Type: TABLE; Schema: public; Owner: user; Tablespace: 
--

CREATE TABLE client (
    id integer NOT NULL,
    order_id integer,
    client_name name
);


ALTER TABLE client OWNER TO "user";

--
-- TOC entry 173 (class 1259 OID 16398)
-- Name: client_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

CREATE SEQUENCE client_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE client_id_seq OWNER TO "user";

--
-- TOC entry 2089 (class 0 OID 0)
-- Dependencies: 173
-- Name: client_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: user
--

ALTER SEQUENCE client_id_seq OWNED BY client.id;


--
-- TOC entry 186 (class 1259 OID 16485)
-- Name: date_entry_out; Type: TABLE; Schema: public; Owner: user; Tablespace: 
--

CREATE TABLE date_entry_out (
    id integer NOT NULL,
    entry_date date,
    out_date date
);


ALTER TABLE date_entry_out OWNER TO "user";

--
-- TOC entry 187 (class 1259 OID 16488)
-- Name: date_entry_out_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

CREATE SEQUENCE date_entry_out_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE date_entry_out_id_seq OWNER TO "user";

--
-- TOC entry 2090 (class 0 OID 0)
-- Dependencies: 187
-- Name: date_entry_out_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: user
--

ALTER SEQUENCE date_entry_out_id_seq OWNED BY date_entry_out.id;


--
-- TOC entry 174 (class 1259 OID 16408)
-- Name: order; Type: TABLE; Schema: public; Owner: user; Tablespace: 
--

CREATE TABLE "order" (
    id integer NOT NULL,
    room_id integer,
    date_id integer,
    expense_id integer,
    order_date date
);


ALTER TABLE "order" OWNER TO "user";

--
-- TOC entry 188 (class 1259 OID 16494)
-- Name: order_expense; Type: TABLE; Schema: public; Owner: user; Tablespace: 
--

CREATE TABLE order_expense (
    id integer NOT NULL,
    total_expense numeric
);


ALTER TABLE order_expense OWNER TO "user";

--
-- TOC entry 189 (class 1259 OID 16497)
-- Name: order_expense_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

CREATE SEQUENCE order_expense_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE order_expense_id_seq OWNER TO "user";

--
-- TOC entry 2091 (class 0 OID 0)
-- Dependencies: 189
-- Name: order_expense_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: user
--

ALTER SEQUENCE order_expense_id_seq OWNED BY order_expense.id;


--
-- TOC entry 175 (class 1259 OID 16411)
-- Name: order_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

CREATE SEQUENCE order_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE order_id_seq OWNER TO "user";

--
-- TOC entry 2092 (class 0 OID 0)
-- Dependencies: 175
-- Name: order_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: user
--

ALTER SEQUENCE order_id_seq OWNED BY "order".id;


--
-- TOC entry 176 (class 1259 OID 16417)
-- Name: room; Type: TABLE; Schema: public; Owner: user; Tablespace: 
--

CREATE TABLE room (
    id integer NOT NULL,
    beds_id integer,
    class_id integer NOT NULL,
    info_id integer NOT NULL,
    cost_per_day numeric
);


ALTER TABLE room OWNER TO "user";

--
-- TOC entry 178 (class 1259 OID 16434)
-- Name: room_class_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

CREATE SEQUENCE room_class_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE room_class_id_seq OWNER TO "user";

--
-- TOC entry 2093 (class 0 OID 0)
-- Dependencies: 178
-- Name: room_class_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: user
--

ALTER SEQUENCE room_class_id_seq OWNED BY room.class_id;


--
-- TOC entry 177 (class 1259 OID 16420)
-- Name: room_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

CREATE SEQUENCE room_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE room_id_seq OWNER TO "user";

--
-- TOC entry 2094 (class 0 OID 0)
-- Dependencies: 177
-- Name: room_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: user
--

ALTER SEQUENCE room_id_seq OWNED BY room.id;


--
-- TOC entry 184 (class 1259 OID 16476)
-- Name: room_info; Type: TABLE; Schema: public; Owner: user; Tablespace: 
--

CREATE TABLE room_info (
    id integer NOT NULL,
    room_number smallint
);


ALTER TABLE room_info OWNER TO "user";

--
-- TOC entry 179 (class 1259 OID 16440)
-- Name: room_info_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

CREATE SEQUENCE room_info_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE room_info_id_seq OWNER TO "user";

--
-- TOC entry 2095 (class 0 OID 0)
-- Dependencies: 179
-- Name: room_info_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: user
--

ALTER SEQUENCE room_info_id_seq OWNED BY room.info_id;


--
-- TOC entry 185 (class 1259 OID 16479)
-- Name: room_info_id_seq1; Type: SEQUENCE; Schema: public; Owner: user
--

CREATE SEQUENCE room_info_id_seq1
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE room_info_id_seq1 OWNER TO "user";

--
-- TOC entry 2096 (class 0 OID 0)
-- Dependencies: 185
-- Name: room_info_id_seq1; Type: SEQUENCE OWNED BY; Schema: public; Owner: user
--

ALTER SEQUENCE room_info_id_seq1 OWNED BY room_info.id;


--
-- TOC entry 1929 (class 2604 OID 16400)
-- Name: id; Type: DEFAULT; Schema: public; Owner: user
--

ALTER TABLE ONLY client ALTER COLUMN id SET DEFAULT nextval('client_id_seq'::regclass);


--
-- TOC entry 1937 (class 2604 OID 16490)
-- Name: id; Type: DEFAULT; Schema: public; Owner: user
--

ALTER TABLE ONLY date_entry_out ALTER COLUMN id SET DEFAULT nextval('date_entry_out_id_seq'::regclass);


--
-- TOC entry 1930 (class 2604 OID 16413)
-- Name: id; Type: DEFAULT; Schema: public; Owner: user
--

ALTER TABLE ONLY "order" ALTER COLUMN id SET DEFAULT nextval('order_id_seq'::regclass);


--
-- TOC entry 1938 (class 2604 OID 16499)
-- Name: id; Type: DEFAULT; Schema: public; Owner: user
--

ALTER TABLE ONLY order_expense ALTER COLUMN id SET DEFAULT nextval('order_expense_id_seq'::regclass);


--
-- TOC entry 1931 (class 2604 OID 16430)
-- Name: id; Type: DEFAULT; Schema: public; Owner: user
--

ALTER TABLE ONLY room ALTER COLUMN id SET DEFAULT nextval('room_id_seq'::regclass);


--
-- TOC entry 1932 (class 2604 OID 16436)
-- Name: class_id; Type: DEFAULT; Schema: public; Owner: user
--

ALTER TABLE ONLY room ALTER COLUMN class_id SET DEFAULT nextval('room_class_id_seq'::regclass);


--
-- TOC entry 1933 (class 2604 OID 16442)
-- Name: info_id; Type: DEFAULT; Schema: public; Owner: user
--

ALTER TABLE ONLY room ALTER COLUMN info_id SET DEFAULT nextval('room_info_id_seq'::regclass);


--
-- TOC entry 1934 (class 2604 OID 16456)
-- Name: id; Type: DEFAULT; Schema: public; Owner: user
--

ALTER TABLE ONLY room_beds ALTER COLUMN id SET DEFAULT nextval('beds_id_seq'::regclass);


--
-- TOC entry 1935 (class 2604 OID 16472)
-- Name: id; Type: DEFAULT; Schema: public; Owner: user
--

ALTER TABLE ONLY room_class ALTER COLUMN id SET DEFAULT nextval('class_id_seq'::regclass);


--
-- TOC entry 1936 (class 2604 OID 16481)
-- Name: id; Type: DEFAULT; Schema: public; Owner: user
--

ALTER TABLE ONLY room_info ALTER COLUMN id SET DEFAULT nextval('room_info_id_seq1'::regclass);


--
-- TOC entry 1954 (class 2606 OID 16509)
-- Name: pk_beds_id; Type: CONSTRAINT; Schema: public; Owner: user; Tablespace: 
--

ALTER TABLE ONLY room_beds
    ADD CONSTRAINT pk_beds_id PRIMARY KEY (id);


--
-- TOC entry 1956 (class 2606 OID 16511)
-- Name: pk_class_id; Type: CONSTRAINT; Schema: public; Owner: user; Tablespace: 
--

ALTER TABLE ONLY room_class
    ADD CONSTRAINT pk_class_id PRIMARY KEY (id);


--
-- TOC entry 1940 (class 2606 OID 16405)
-- Name: pk_client_id; Type: CONSTRAINT; Schema: public; Owner: user; Tablespace: 
--

ALTER TABLE ONLY client
    ADD CONSTRAINT pk_client_id PRIMARY KEY (id);


--
-- TOC entry 1960 (class 2606 OID 16515)
-- Name: pk_date_id; Type: CONSTRAINT; Schema: public; Owner: user; Tablespace: 
--

ALTER TABLE ONLY date_entry_out
    ADD CONSTRAINT pk_date_id PRIMARY KEY (id);


--
-- TOC entry 1962 (class 2606 OID 16534)
-- Name: pk_expense_id; Type: CONSTRAINT; Schema: public; Owner: user; Tablespace: 
--

ALTER TABLE ONLY order_expense
    ADD CONSTRAINT pk_expense_id PRIMARY KEY (id);


--
-- TOC entry 1958 (class 2606 OID 16513)
-- Name: pk_info_id; Type: CONSTRAINT; Schema: public; Owner: user; Tablespace: 
--

ALTER TABLE ONLY room_info
    ADD CONSTRAINT pk_info_id PRIMARY KEY (id);


--
-- TOC entry 1947 (class 2606 OID 16450)
-- Name: pk_order_id; Type: CONSTRAINT; Schema: public; Owner: user; Tablespace: 
--

ALTER TABLE ONLY "order"
    ADD CONSTRAINT pk_order_id PRIMARY KEY (id);


--
-- TOC entry 1952 (class 2606 OID 16507)
-- Name: pk_room_id; Type: CONSTRAINT; Schema: public; Owner: user; Tablespace: 
--

ALTER TABLE ONLY room
    ADD CONSTRAINT pk_room_id PRIMARY KEY (id);


--
-- TOC entry 1942 (class 2606 OID 16407)
-- Name: uc_order; Type: CONSTRAINT; Schema: public; Owner: user; Tablespace: 
--

ALTER TABLE ONLY client
    ADD CONSTRAINT uc_order UNIQUE (order_id);


--
-- TOC entry 1948 (class 1259 OID 16546)
-- Name: fki_beds_id; Type: INDEX; Schema: public; Owner: user; Tablespace: 
--

CREATE INDEX fki_beds_id ON room USING btree (beds_id);


--
-- TOC entry 1949 (class 1259 OID 16552)
-- Name: fki_class_id; Type: INDEX; Schema: public; Owner: user; Tablespace: 
--

CREATE INDEX fki_class_id ON room USING btree (class_id);


--
-- TOC entry 1943 (class 1259 OID 16532)
-- Name: fki_date_id; Type: INDEX; Schema: public; Owner: user; Tablespace: 
--

CREATE INDEX fki_date_id ON "order" USING btree (date_id);


--
-- TOC entry 1944 (class 1259 OID 16540)
-- Name: fki_expense_id; Type: INDEX; Schema: public; Owner: user; Tablespace: 
--

CREATE INDEX fki_expense_id ON "order" USING btree (expense_id);


--
-- TOC entry 1950 (class 1259 OID 16558)
-- Name: fki_info_id; Type: INDEX; Schema: public; Owner: user; Tablespace: 
--

CREATE INDEX fki_info_id ON room USING btree (info_id);


--
-- TOC entry 1945 (class 1259 OID 16526)
-- Name: fki_room_id; Type: INDEX; Schema: public; Owner: user; Tablespace: 
--

CREATE INDEX fki_room_id ON "order" USING btree (room_id);


--
-- TOC entry 1967 (class 2606 OID 16541)
-- Name: fk_beds_id; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY room
    ADD CONSTRAINT fk_beds_id FOREIGN KEY (beds_id) REFERENCES room_beds(id);


--
-- TOC entry 1968 (class 2606 OID 16547)
-- Name: fk_class_id; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY room
    ADD CONSTRAINT fk_class_id FOREIGN KEY (class_id) REFERENCES room_class(id);


--
-- TOC entry 1965 (class 2606 OID 16527)
-- Name: fk_date_id; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY "order"
    ADD CONSTRAINT fk_date_id FOREIGN KEY (date_id) REFERENCES date_entry_out(id);


--
-- TOC entry 1966 (class 2606 OID 16535)
-- Name: fk_expense_id; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY "order"
    ADD CONSTRAINT fk_expense_id FOREIGN KEY (expense_id) REFERENCES order_expense(id);


--
-- TOC entry 1969 (class 2606 OID 16553)
-- Name: fk_info_id; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY room
    ADD CONSTRAINT fk_info_id FOREIGN KEY (info_id) REFERENCES room_info(id);


--
-- TOC entry 1963 (class 2606 OID 16516)
-- Name: fk_order_id; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY client
    ADD CONSTRAINT fk_order_id FOREIGN KEY (order_id) REFERENCES "order"(id);


--
-- TOC entry 1964 (class 2606 OID 16521)
-- Name: fk_room_id; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY "order"
    ADD CONSTRAINT fk_room_id FOREIGN KEY (room_id) REFERENCES room(id);


--
-- TOC entry 2085 (class 0 OID 0)
-- Dependencies: 5
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2015-11-15 15:28:02

--
-- PostgreSQL database dump complete
--

